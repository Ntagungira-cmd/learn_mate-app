<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="LearnMate South Sudan - Bridging the learning gap through technology">
    <meta name="theme-color" content="#22c55e">
    <title>LearnMate South Sudan</title>
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/responsive.css">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
</head>
<body>
    <!-- Login Page -->
    <div id="loginPage" class="login-container">
        <div class="login-box">
            <div class="login-header">
                <div class="logo-circle">
                    <svg class="logo-icon" viewBox="0 0 24 24">
                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                    </svg>
                </div>
                <h1 class="login-title" data-i18n="app.title">LearnMate South Sudan</h1>
                <p class="login-subtitle" data-i18n="app.subtitle">Empowering Education, Anywhere</p>
            </div>

            <div class="login-card">
                <div class="form-group">
                    <label class="form-label" data-i18n="login.email">Email</label>
                    <input type="email" class="form-input" placeholder="Enter your email" id="emailInput">
                </div>
                <div class="form-group">
                    <label class="form-label" data-i18n="login.password">Password</label>
                    <input type="password" class="form-input" placeholder="Enter your password" id="passwordInput">
                </div>
                <button class="btn btn-primary" onclick="loginAsStudent()">
                    <svg width="20" height="20" viewBox="0 0 24 24">
                        <path d="M5 12.55a11 11 0 0 1 14.08 0"></path>
                        <path d="M1.42 9a16 16 0 0 1 21.16 0"></path>
                        <path d="M8.53 16.11a6 6 0 0 1 6.95 0"></path>
                        <path d="M12 20h.01"></path>
                    </svg>
                    <span data-i18n="login.studentBtn">Login as Student</span>
                </button>
                <button class="btn btn-secondary">
                    <span data-i18n="login.teacherBtn">Login as Teacher</span>
                </button>
                <div class="text-center">
                    <span style="color: #d1d5db;">or</span>
                </div>
                <button class="btn btn-offline" style="margin-top: 1rem;" onclick="continueOffline()">
                    <svg width="20" height="20" viewBox="0 0 24 24">
                        <line x1="1" y1="1" x2="23" y2="23"></line>
                        <path d="M16.72 11.06A10.94 10.94 0 0 1 19 12.55"></path>
                        <path d="M5 12.55a10.94 10.94 0 0 1 5.17-2.39"></path>
                    </svg>
                    <span data-i18n="login.offlineBtn">Continue Offline</span>
                </button>
                <p class="login-footer text-center">
                    <span data-i18n="login.noAccount">Don't have an account?</span>
                    <span class="link" data-i18n="login.signup">Sign Up</span>
                </p>
            </div>
            
            <!-- Language Selector -->
            <div class="language-selector">
                <select id="languageSelect" onchange="changeLanguage(this.value)">
                    <option value="en">English</option>
                    <option value="ar">العربية (Arabic)</option>
                    <option value="local">Local Language</option>
                </select>
            </div>
            
            <p class="small-text text-center" data-i18n="app.tagline">
                Supporting low-connectivity learning environments
            </p>
        </div>
    </div>

    <!-- Main App -->
    <div id="mainApp" class="app-container hidden">
        <!-- Sidebar -->
        <div id="sidebar" class="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-logo">
                    <svg width="24" height="24" viewBox="0 0 24 24" style="stroke: white;">
                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                    </svg>
                </div>
                <div>
                    <div class="sidebar-title">LearnMate</div>
                    <div class="sidebar-subtitle">South Sudan</div>
                </div>
            </div>

            <nav class="sidebar-nav">
                <button class="nav-item active" data-page="home">
                    <svg class="nav-icon" viewBox="0 0 24 24">
                        <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                        <polyline points="9 22 9 12 15 12 15 22"></polyline>
                    </svg>
                    <span data-i18n="nav.home">Home</span>
                </button>
                <button class="nav-item" data-page="courses">
                    <svg class="nav-icon" viewBox="0 0 24 24">
                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                    </svg>
                    <span data-i18n="nav.courses">My Courses</span>
                </button>
                <button class="nav-item" data-page="progress">
                    <svg class="nav-icon" viewBox="0 0 24 24">
                        <polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline>
                        <polyline points="17 6 23 6 23 12"></polyline>
                    </svg>
                    <span data-i18n="nav.progress">Progress</span>
                </button>
                <button class="nav-item" data-page="downloads">
                    <svg class="nav-icon" viewBox="0 0 24 24">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                        <polyline points="7 10 12 15 17 10"></polyline>
                        <line x1="12" y1="15" x2="12" y2="3"></line>
                    </svg>
                    <span data-i18n="nav.downloads">Downloads</span>
                </button>
                <button class="nav-item" data-page="settings">
                    <svg class="nav-icon" viewBox="0 0 24 24">
                        <circle cx="12" cy="12" r="3"></circle>
                        <path d="M12 1v6m0 6v6m5.196-14.196l-4.243 4.243m0 5.656l-4.242 4.243M23 12h-6m-6 0H1m20.196-5.196l-4.243 4.243m0 5.656l-4.242 4.243"></path>
                    </svg>
                    <span data-i18n="nav.settings">Settings</span>
                </button>
            </nav>

            <div class="sidebar-footer">
                <p style="font-weight: 600;" data-i18n="help.title">Need Help?</p>
                <a href="#" data-i18n="help.contact">Contact support for assistance</a>
            </div>
        </div>

        <!-- Main Content Area -->
        <div class="main-content">
            <!-- Header -->
            <div class="header">
                <div class="header-content">
                    <div class="header-left">
                        <button class="menu-btn" onclick="toggleSidebar()">
                            <svg id="menuIcon" width="24" height="24" viewBox="0 0 24 24">
                                <line x1="18" y1="6" x2="6" y2="18"></line>
                                <line x1="6" y1="6" x2="18" y2="18"></line>
                            </svg>
                        </button>
                        <h1 class="header-title">E-learning Platform Design</h1>
                    </div>

                    <div class="header-right">
                        <div class="status-indicator">
                            <svg id="statusIcon" width="20" height="20" viewBox="0 0 24 24" style="color: #22c55e;">
                                <path d="M5 12.55a11 11 0 0 1 14.08 0"></path>
                                <path d="M1.42 9a16 16 0 0 1 21.16 0"></path>
                                <path d="M8.53 16.11a6 6 0 0 1 6.95 0"></path>
                                <path d="M12 20h.01"></path>
                            </svg>
                            <span id="statusText">Online</span>
                        </div>

                        <button class="notification-btn">
                            <svg width="24" height="24" viewBox="0 0 24 24">
                                <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
                                <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
                            </svg>
                            <span class="notification-badge"></span>
                        </button>

                        <div class="user-info">
                            <div class="user-avatar" id="userAvatar">K</div>
                            <div class="user-details">
                                <p id="userName">Kyle</p>
                                <p id="userRole">Student</p>
                            </div>
                            <button class="logout-btn" onclick="logout()">
                                <svg width="20" height="20" viewBox="0 0 24 24">
                                    <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                                    <polyline points="16 17 21 12 16 7"></polyline>
                                    <line x1="21" y1="12" x2="9" y2="12"></line>
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Content Area -->
            <div class="content-area">
                <!-- Home Page -->
                <div id="homePage" class="container"></div>

                <!-- Courses Page -->
                <div id="coursesPage" class="container hidden"></div>

                <!-- Downloads Page -->
                <div id="downloadsPage" class="container hidden"></div>

                <!-- Progress Page -->
                <div id="progressPage" class="container hidden"></div>

                <!-- Settings Page -->
                <div id="settingsPage" class="container hidden"></div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/i18n.js"></script>
    <script src="js/lessons.js"></script>
    <script src="js/quiz.js"></script>
    <script src="js/app.js"></script>
    
    <!-- Service Worker Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('service-worker.js')
                    .then(registration => {
                        console.log('ServiceWorker registered:', registration);
                    })
                    .catch(err => {
                        console.log('ServiceWorker registration failed:', err);
                    });
            });
        }
    </script>
</body>
</html>